{"version":3,"sources":["../src/program.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC/B,IAAM,cAAc,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AACnD,IAAM,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;AACtB,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;AACtB,IAAM,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;AACpB,IAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;;AAE1B,IAAM,UAAU,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;;AAEzC,IAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,IAAM,GAAG,GAAG,OAAO,EAAE,CAAC;;AAEtB,GAAG,CAAC,GAAG,CAAC,MAAM,EAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAE,CAAC;AAC3C,GAAG,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;AAC7B,GAAG,CAAC,GAAG,CAAC,OAAO,EAAE,SAAS,GAAG,QAAQ,CAAC,CAAC;AACvC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,qBAAqB,CAAC,CAAC,YAAY,CAAC;AAC3D,gBAAc,EAAE,KAAK;CACtB,CAAC,CAAC,CAAC;;AAEJ,OAAO,CAAC,UAAU,CAAC,CAAC,OAAO,EAAE,CAAC;AAC9B,IAAI,OAAO,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAE1C,IAAM,IAAI,GAAG,CACX,EAAC,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,MAAM,EAAC,EACtD,EAAC,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,OAAO,EAAC,CACxD,CAAA;;AAED,GAAG,CAAC,GAAG,CAAC,YAAY,EAAE,UAAS,GAAG,EAAE,GAAG,EAAE;AACvC,KAAG,CAAC,SAAS,CAAC,cAAc,EAAE,wBAAwB,CAAC,CAAC;AACxD,YAAU,CAAC,SAAS,GAAG,SAAS,CAAC,CAC9B,SAAS,CAAC,UAAU,CAAC,CACrB,MAAM,EAAE,CACR,IAAI,CAAC,GAAG,CAAC,CAAC;CACd,CAAC,CAAC;;AAEH,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,UAAS,GAAG,EAAE,GAAG,EAAE;AAC9B,MAAI,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;AACvC,MAAI,MAAM,GAAG,cAAc,CAAC,cAAc,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;;AAEvF,KAAG,CAAC,SAAS,CAAC,cAAc,EAAE,WAAW,CAAC,CAAC;;AAE3C,MAAI,IAAI,GAAG,cAAc,CAAC,oBAAoB,CAAC,IAAI,CAAC,IAAI,EACpD,GAAG,CAAC,EAAC,EAAE,EAAE,KAAK,EAAE,uBAAuB,EAAE,EAAC,MAAM,EAAE,MAAM,EAAC,EAAC,CAAC,EAC3D,MAAM,CAAC,EAAC,EAAE,EAAE,cAAc;AAClB,QAAI,EAAE,YAAY;AAClB,eAAW,EAAE,WAAW;GACzB,CAAC,EACR,MAAM,CAAC,EAAC,GAAG,EAAE,YAAY,EAAC,CAAC,CAC9B,CAAC,CAAC;;AAEH,KAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;CACf,CAAC,CAAC;;AAEH,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,YAAM;AAChC,SAAO,CAAC,GAAG,CAAC,kCAAkC,GAAG,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;CACnE,CAAC,CAAC","file":"program.js","sourcesContent":["\"use strict\";\n\nconst React = require('react');\nconst ReactDOMServer = require('react-dom/server');\nconst DOM = React.DOM;\nconst body = DOM.body;\nconst div = DOM.div;\nconst script = DOM.script;\n\nconst browserify = require('browserify');\n\nconst express = require('express');\nconst app = express();\n\napp.set('port', (process.argv[2] || 3000));\napp.set('view engine', 'js');\napp.set('views', __dirname + '/views');\napp.engine('js', require('express-react-views').createEngine({\n  transformViews: false\n}));\n\nrequire('node-jsx').install();\nvar TodoBox = require('./views/index.js');\n\nconst data = [\n  {title: 'Shopping', detail: process.argv[3] || 'Milk'},\n  {title: 'Hair cut', detail: process.argv[4] || '14:00'}\n]\n\napp.use('/bundle.js', function(req, res) {\n  res.setHeader('content-type', 'application/javascript');\n  browserify(__dirname + '/app.js')\n    .transform('reactify')\n    .bundle()\n    .pipe(res);\n});\n\napp.use('/', function(req, res) {\n  var initialData = JSON.stringify(data);\n  var markup = ReactDOMServer.renderToString(React.createElement(TodoBox, {data: data}));\n\n  res.setHeader('Content-Type', 'text/html');\n\n  var html = ReactDOMServer.renderToStaticMarkup(body(null,\n      div({id: 'app', dangerouslySetInnerHTML: {__html: markup}}),\n      script({id: 'initial-data',\n              type: 'text/plain',\n              'data-json': initialData\n            }),\n      script({src: '/bundle.js'})\n  ));\n\n  res.end(html);\n});\n\napp.listen(app.get('port'), () => {\n  console.log('app running on http://localhost:' + app.get('port'));\n});\n"]}